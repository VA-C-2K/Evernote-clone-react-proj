(this["webpackJsonpevernote-clone_proj"]=this["webpackJsonpevernote-clone_proj"]||[]).push([[0],{213:function(e,t,c){},367:function(e,t,c){},402:function(e,t,c){"use strict";c.r(t);var n=c(18),s=c(1),i=c.n(s),a=c(88),o=c.n(a),r=(c(213),c(28)),l=c(6),d=c(2),j=function(){return Object(d.jsx)("div",{children:Object(d.jsx)("nav",{className:"green",children:Object(d.jsxs)("div",{className:"nav-wrapper",children:[Object(d.jsx)(r.b,{to:"/",className:"brand-logo",children:"Notebook"}),Object(d.jsx)("ul",{id:"nav-mobile",className:"right hide-on-med-and-down",children:Object(d.jsx)("li",{children:Object(d.jsx)(r.c,{to:"/favorites",children:"Favorites"})})})]})})})},b=c(29),h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=Object(s.useState)(e),c=Object(b.a)(t,2),n=c[0],i=c[1],a=function(){i(e)},o={value:n,onChange:function(e){i(e.target.value)}};return[n,o,a]},O=c(9),u=function(){var e=h(),t=Object(b.a)(e,3),c=t[0],s=t[1],i=t[2],a=h(),o=Object(b.a)(a,3),r=o[0],l=o[1],j=o[2],u=Object(O.b)();return Object(d.jsx)("div",{className:"section",children:Object(d.jsxs)("form",{onSubmit:function(e){var t;e.preventDefault(),u((t={title:c,content:r},function(e,c,s){(0,s.getFirestore)().collection("notes").add(Object(n.a)(Object(n.a)({},t),{},{favorite:!1,createdAt:new Date})).then((function(){console.log("add the note sucessfully")})).catch((function(e){console.log(e)}))})),j(),i()},className:"white",children:[Object(d.jsx)("h5",{className:"grey-text text-darken-3",children:" New Note"}),Object(d.jsxs)("div",{className:"input-field",children:[Object(d.jsx)("input",Object(n.a)({id:"note_title",type:"text",className:"validate"},s)),Object(d.jsx)("label",{htmlFor:"note_title",children:"Note title"})]}),Object(d.jsxs)("div",{className:"input-field",children:[Object(d.jsx)("textarea",Object(n.a)({id:"note_content",className:"materialize-textarea"},l)),Object(d.jsx)("label",{htmlFor:"note_content",children:"Note Content"})]}),Object(d.jsx)("button",{className:"btn  green",children:"Add"})]})})},x=c(90),m=c.n(x),f=function(e){var t=e.note,c=Object(O.b)(),n=t.favorite?"favorite":"favorite_border";return Object(d.jsxs)("div",{className:"note white",children:[Object(d.jsxs)("div",{className:"right-align",children:[Object(d.jsx)("i",{className:"material-icons red-text",style:{cursor:"pointer"},onClick:function(){c(function(e){return function(t,c,n){var s=n.getFirestore,i=!e.favorite;s().collection("notes").doc(e.id).update({favorite:i}).then((function(){console.log(" toggle fav note sucessfully")})).catch((function(e){console.log(e)}))}}(t))},children:n}),Object(d.jsx)("i",{className:"material-icons ",style:{cursor:"pointer"},onClick:function(){c(function(e){return function(t,c,n){(0,n.getFirestore)().collection("notes").doc(e.id).delete().then((function(){console.log("delete the note sucessfully")})).catch((function(e){console.log(e)}))}}(t))},children:"delete"})]}),Object(d.jsx)(r.b,{to:"/note/"+t.id,children:Object(d.jsx)("h5",{className:"black-text",children:t.title})}),Object(d.jsx)("p",{className:"truncate",children:t.content}),Object(d.jsx)("p",{className:"grey-text",children:m()(t.createdAt.toDate()).fromNow()}),Object(d.jsx)("div",{className:"right-align",children:Object(d.jsx)(r.b,{to:"/editform/".concat(t.id),children:Object(d.jsx)("i",{className:"material-icons black-text",onClick:function(){c({type:"EDIT_NOTE",payload:t})},children:"edit"})})})]})},v=function(e){var t=e.notes;return Object(d.jsx)("div",{className:"notelist",children:t&&t.map((function(e){return Object(d.jsx)(f,{note:e},e.id)}))})},p=c(15),N=function(){Object(p.useFirestoreConnect)([{collection:"notes",orderBy:["createdAt","desc"]}]);var e=Object(O.c)((function(e){return e.firestore.ordered.notes}));return console.log(e),Object(d.jsx)("div",{className:"container",children:Object(d.jsxs)("div",{className:"row center-align",children:[Object(d.jsx)("div",{className:"col s7",children:Object(d.jsx)(u,{})}),Object(d.jsx)("div",{className:"col s5",children:Object(d.jsx)(v,{notes:e})})]})})},g=function(){Object(p.useFirestoreConnect)([{collection:"notes",where:["favorite","==",!0],orderBy:["createdAt","desc"],storeAs:"favnotes"}]);var e=Object(O.c)((function(e){return e.firestore.ordered.favnotes}));return console.log("Favorites",e),Object(d.jsx)(v,{notes:e})},y=function(e){var t=e.match.params.id;Object(p.useFirestoreConnect)([{collection:"notes",doc:t}]);var c=Object(O.c)((function(e){var c=e.firestore.data;return c.notes&&c.notes[t]}));return Object(p.isLoaded)(c)?Object(p.isEmpty)(c)?Object(d.jsx)("div",{className:"container section",children:Object(d.jsxs)("div",{className:"card z-depth-0",children:[Object(d.jsx)("div",{className:"card-content",children:Object(d.jsx)("span",{className:"card-title",children:" The note content is Empty"})}),Object(d.jsx)("div",{className:"card-action grey lighten-4 grey-text"})]})}):Object(d.jsx)("div",{className:"container section",children:Object(d.jsxs)("div",{className:"card z-depth-0",children:[Object(d.jsxs)("div",{className:"card-content",children:[Object(d.jsx)("span",{className:"card-title",children:c.title}),Object(d.jsx)("p",{children:c.content})]}),Object(d.jsx)("div",{className:"card-action grey lighten-4 grey-text",children:Object(d.jsx)("div",{children:m()(c.createdAt.toDate()).calendar()})})]})}):Object(d.jsx)("div",{className:"container section",children:Object(d.jsxs)("div",{className:"card z-depth-0",children:[Object(d.jsx)("div",{className:"card-content",children:Object(d.jsx)("span",{className:"card-title",children:"Loading..."})}),Object(d.jsx)("div",{className:"card-action grey lighten-4 grey-text"})]})})},F=function(){var e=Object(O.c)((function(e){return e.note}));console.log("edit form",e);var t=Object(l.f)(),c=h(e.title),s=Object(b.a)(c,3),i=s[0],a=s[1],o=s[2],r=h(e.content),j=Object(b.a)(r,3),u=j[0],x=j[1],m=j[2],f=Object(O.b)();return Object(d.jsx)("div",{className:"section",children:Object(d.jsxs)("form",{onSubmit:function(c){c.preventDefault(),f(function(e){return function(t,c,n){(0,n.getFirestore)().collection("notes").doc(e.id).update({title:e.title,content:e.content}).then((function(){console.log(" toggle fav note sucessfully")})).catch((function(e){console.log(e)}))}}({id:e.id,title:i,content:u})),m(),o(),t.push("/")},className:"white",children:[Object(d.jsx)("h5",{className:"grey-text text-darken-3",children:" New Note"}),Object(d.jsxs)("div",{className:"input-field",children:[Object(d.jsx)("input",Object(n.a)({id:"note_title",type:"text",className:"validate"},a)),Object(d.jsx)("label",{className:"active",htmlFor:"note_title",children:"Note title"})]}),Object(d.jsxs)("div",{className:"input-field",children:[Object(d.jsx)("textarea",Object(n.a)({id:"note_content",className:"materialize-textarea"},x)),Object(d.jsx)("label",{className:"active",htmlFor:"note_content",children:"Note Content"})]}),Object(d.jsx)("button",{className:"btn  green",children:"Update"})]})})};c(367);var w=function(){return Object(d.jsxs)(r.a,{children:[Object(d.jsx)(j,{}),Object(d.jsxs)(l.c,{children:[Object(d.jsx)(l.a,{exact:!0,path:"/",component:N}),Object(d.jsx)(l.a,{path:"/favorites",component:g}),Object(d.jsx)(l.a,{path:"/note/:id",component:y}),Object(d.jsx)(l.a,{path:"/editform/:id",component:F})]})]})},_=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,403)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,i=t.getLCP,a=t.getTTFB;c(e),n(e),s(e),i(e),a(e)}))},A=c(49),C=c(48),k={note_to_edit:{}},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0,c=t.type,n=t.payload;return"EDIT_NOTE"===c?n:e},D=Object(A.b)({note:I,firebase:p.firebaseReducer,firestore:C.firestoreReducer}),E=c(208),S=c(62);c(399);S.a.initializeApp({apiKey:"AIzaSyA8jcEbcAmmHSfmht_iijP86SB70u76iwA",authDomain:"evernote-clone-2425d.firebaseapp.com",databaseURL:"https://evernote-clone-2425d.firebaseio.com",projectId:"evernote-clone-2425d",storageBucket:"evernote-clone-2425d.appspot.com",messagingSenderId:"211845087062",appId:"1:211845087062:web:0869820e36794d93cae0f7"});var z=S.a,T=Object(A.d)(D,Object(A.c)(Object(A.a)(E.a.withExtraArgument({getFirebase:p.getFirebase,getFirestore:C.getFirestore})),Object(C.reduxFirestore)(z))),B={firebase:S.a,config:z,dispatch:T.dispatch,createFirestoreInstance:C.createFirestoreInstance};o.a.render(Object(d.jsx)(O.a,{store:T,children:Object(d.jsx)(p.ReactReduxFirebaseProvider,Object(n.a)(Object(n.a)({},B),{},{children:Object(d.jsx)(i.a.StrictMode,{children:Object(d.jsx)(w,{})})}))}),document.getElementById("root")),_()}},[[402,1,2]]]);
//# sourceMappingURL=main.12bdfb03.chunk.js.map